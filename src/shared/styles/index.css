@import "tailwindcss";
@custom-variant dark (&:where(.dark, .dark *));

@property --num {
  syntax: "<integer>";
  initial-value: 0;
  inherits: false;
}

@keyframes counter {
  from {
    --num: 0;
  }
  to {
  }
}

@layer utilities {
  .animation-fade-scale {
    animation: fadeScale 0.12s ease-out;
  }
}

.dark input[type="date"]::-webkit-calendar-picker-indicator {
  filter: invert(1);
}

/* -------------------------------------------------------
   LIGHT THEME (default)
-------------------------------------------------------- */
@layer base {
  :root {
    /* Light mode now uses a blue accent */
    --primary: rgb(37, 99, 235);
    --primary-hover: rgb(56, 114, 237);
    --primary-active: rgb(30, 86, 210);

    /* Accent scale for remapping old amber utilities */
    --primary-50: rgb(239, 246, 255);
    --primary-100: rgb(219, 234, 254);
    --primary-200: rgb(191, 219, 254);
    --primary-300: rgb(147, 197, 253);
    --primary-400: rgb(96, 165, 250);
    --primary-500: rgb(59, 130, 246);
    --primary-600: rgb(37, 99, 235);
    --primary-700: rgb(29, 78, 216);
    --primary-800: rgb(30, 64, 175);
    --primary-50-rgb: 239 246 255;
    --primary-100-rgb: 219 234 254;
    --primary-200-rgb: 191 219 254;
    --primary-300-rgb: 147 197 253;
    --primary-400-rgb: 96 165 250;
    --primary-500-rgb: 59 130 246;
    --primary-600-rgb: 37 99 235;
    --primary-700-rgb: 29 78 216;
    --primary-800-rgb: 30 64 175;

    --bg: #f6f6f4;
    --bg-muted: #ffffff;
    --bg-subtle: #f1f1ef;

    --surface: #ffffff;
    --surface-raised: #ffffff;
    --surface-dark: var(--surface);
    --overlay: rgba(0, 0, 0, 0.04);

    --border: #dcdcdc;
    --border-subtle: #e4e4e3;
    --border-strong: #bfbfbf;

    --text: #1d1d1f;
    --text-muted: #4b4b4e;
    --text-subtle: #6f6f71;

    --accent: var(--primary-400);
    --accent-contrast: #0b1225;

    --button-bg1: var(--primary);
    --button-bg1-hover: var(--primary-hover);
    --button-bg1-active: var(--primary-active);

    --button-bg2: color-mix(in srgb, var(--surface) 80%, var(--primary) 20%);
    --button-bg2-hover: color-mix(
      in srgb,
      var(--surface) 70%,
      var(--primary) 30%
    );
    --button-bg2-active: color-mix(
      in srgb,
      var(--surface) 60%,
      var(--primary) 40%
    );
  }

  /* -------------------------------------------------------
     DARK THEME — toggled by Tailwind dark:
  -------------------------------------------------------- */
  .dark {
    /* Primary (semantic) */
    --primary: rgb(255, 191, 70);
    --primary-hover: rgb(255, 204, 102);
    --primary-active: rgb(255, 221, 153);

    /* ✅ Add primary scale tokens for dark mode (amber scale)
       This fixes cases where components use --primary-400/500 etc. */
    --primary-50: rgb(255, 251, 235); /* amber-50  */
    --primary-100: rgb(254, 243, 199); /* amber-100 */
    --primary-200: rgb(253, 230, 138); /* amber-200 */
    --primary-300: rgb(252, 211, 77); /* amber-300 */
    --primary-400: rgb(251, 191, 36); /* amber-400 */
    --primary-500: rgb(245, 158, 11); /* amber-500 */
    --primary-600: rgb(217, 119, 6); /* amber-600 */
    --primary-700: rgb(180, 83, 9); /* amber-700 */
    --primary-800: rgb(146, 64, 14); /* amber-800 */

    --primary-50-rgb: 255 251 235;
    --primary-100-rgb: 254 243 199;
    --primary-200-rgb: 253 230 138;
    --primary-300-rgb: 252 211 77;
    --primary-400-rgb: 251 191 36;
    --primary-500-rgb: 245 158 11;
    --primary-600-rgb: 217 119 6;
    --primary-700-rgb: 180 83 9;
    --primary-800-rgb: 146 64 14;

    --bg: #1e1f22;
    --bg-muted: #0f0f0f;
    --bg-subtle: #2a2b2f;

    --surface: #2a2b2f;
    --surface-raised: #323338;
    --surface-dark: var(--bg-muted);
    --overlay: rgba(255, 255, 255, 0.06);

    --border: #3a3b40;
    --border-subtle: #2e2f33;
    --border-strong: #4b4c52;

    --text: #ffffff;
    --text-muted: #d1d1d3;
    --text-subtle: #a9a9ac;

    --accent: var(--color-amber-300);
    --accent-contrast: #1e1f22;

    --button-bg1: rgb(255, 170, 25); /* darker amber */
    --button-bg1-hover: rgb(240, 158, 22);
    --button-bg1-active: rgb(220, 145, 18);

    --button-bg2: color-mix(
      in srgb,
      var(--surface-raised) 75%,
      var(--primary) 25%
    );
    --button-bg2-hover: color-mix(
      in srgb,
      var(--surface-raised) 65%,
      var(--primary) 35%
    );
    --button-bg2-active: color-mix(
      in srgb,
      var(--surface-raised) 55%,
      var(--primary) 45%
    );
  }

  /* -------------------------------------------------------
     Light-mode overrides for legacy amber utility classes.
     Keeps dark mode amber; remaps amber utilities to blue
     palette in light mode for a centralized accent swap.
  -------------------------------------------------------- */
  :root:not(.dark) .text-amber-200 {
    color: rgb(var(--primary-200-rgb) / var(--tw-text-opacity, 1));
  }
  :root:not(.dark) .text-amber-300 {
    color: rgb(var(--primary-300-rgb) / var(--tw-text-opacity, 1));
  }
  :root:not(.dark) .text-amber-400 {
    color: rgb(var(--primary-400-rgb) / var(--tw-text-opacity, 1));
  }
  :root:not(.dark) .text-amber-500 {
    color: rgb(var(--primary-500-rgb) / var(--tw-text-opacity, 1));
  }
  :root:not(.dark) .text-amber-600 {
    color: rgb(var(--primary-600-rgb) / var(--tw-text-opacity, 1));
  }
  :root:not(.dark) .text-amber-700 {
    color: rgb(var(--primary-700-rgb) / var(--tw-text-opacity, 1));
  }
  :root:not(.dark) .text-amber-800 {
    color: rgb(var(--primary-800-rgb) / var(--tw-text-opacity, 1));
  }

  :root:not(.dark) .bg-amber-50 {
    background-color: rgb(var(--primary-50-rgb) / var(--tw-bg-opacity, 1));
  }
  :root:not(.dark) .bg-amber-100 {
    background-color: rgb(var(--primary-100-rgb) / var(--tw-bg-opacity, 1));
  }
  :root:not(.dark) .bg-amber-500 {
    background-color: rgb(var(--primary-500-rgb) / var(--tw-bg-opacity, 1));
  }
  :root:not(.dark) .bg-amber-500\/10 {
    background-color: rgb(var(--primary-500-rgb) / 0.1);
  }
  :root:not(.dark) .bg-amber-500\/20 {
    background-color: rgb(var(--primary-500-rgb) / 0.2);
  }

  :root:not(.dark) .border-amber-100 {
    border-color: rgb(var(--primary-100-rgb) / var(--tw-border-opacity, 1));
  }
  :root:not(.dark) .border-amber-300 {
    border-color: rgb(var(--primary-300-rgb) / var(--tw-border-opacity, 1));
  }
  :root:not(.dark) .border-amber-400 {
    border-color: rgb(var(--primary-400-rgb) / var(--tw-border-opacity, 1));
  }
  :root:not(.dark) .border-amber-500 {
    border-color: rgb(var(--primary-500-rgb) / var(--tw-border-opacity, 1));
  }

  :root:not(.dark) .focus\:ring-amber-500:focus {
    --tw-ring-color: rgb(var(--primary-500-rgb) / 1);
  }
  :root:not(.dark) .focus-visible\:ring-amber-500:focus-visible {
    --tw-ring-color: rgb(var(--primary-500-rgb) / 1);
  }
  :root:not(.dark) .focus\:border-amber-500:focus {
    border-color: rgb(var(--primary-500-rgb) / 1);
  }
  :root:not(.dark) .hover\:border-amber-300:hover {
    border-color: rgb(var(--primary-300-rgb) / 1);
  }
  :root:not(.dark) .hover\:border-amber-400:hover {
    border-color: rgb(var(--primary-400-rgb) / 1);
  }
  :root:not(.dark) .hover\:border-amber-500:hover {
    border-color: rgb(var(--primary-500-rgb) / 1);
  }
  :root:not(.dark) .hover\:text-amber-600:hover {
    color: rgb(var(--primary-600-rgb) / 1);
  }
  :root:not(.dark) .hover\:text-amber-700:hover {
    color: rgb(var(--primary-700-rgb) / 1);
  }
  :root:not(.dark) .hover\:text-amber-400:hover {
    color: rgb(var(--primary-400-rgb) / 1);
  }
  :root:not(.dark) .hover\:bg-amber-600:hover {
    background-color: rgb(var(--primary-600-rgb) / 1);
  }
  :root:not(.dark) .hover\:bg-amber-50:hover {
    background-color: rgb(var(--primary-50-rgb) / 1);
  }
  :root:not(.dark) .hover\:bg-amber-50\/60:hover {
    background-color: rgb(var(--primary-50-rgb) / 0.6);
  }
  :root:not(.dark) .hover\:bg-amber-50\/40:hover {
    background-color: rgb(var(--primary-50-rgb) / 0.4);
  }
  :root:not(.dark) .hover\:bg-amber-500\/10:hover {
    background-color: rgb(var(--primary-500-rgb) / 0.1);
  }
  :root:not(.dark) .decoration-amber-400 {
    text-decoration-color: rgb(var(--primary-400-rgb) / 1);
  }
  :root:not(.dark) .via-amber-50\/40 {
    --tw-gradient-from: rgb(var(--primary-50-rgb) / 0.4)
      var(--tw-gradient-from-position);
    --tw-gradient-to: rgb(var(--primary-50-rgb) / 0)
      var(--tw-gradient-to-position);
    --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);
  }
  :root:not(.dark) .focus-visible\:ring-amber-400\/70:focus-visible {
    --tw-ring-color: rgb(var(--primary-400-rgb) / 0.7);
  }

  /* -------------------------------------------------------
     Neutral utility remaps to theme tokens (light & dark)
     Keeps class usage intact while sourcing colors from tokens.
  -------------------------------------------------------- */
  /* Text */
  :root .text-gray-900,
  :root .text-gray-800,
  :root .text-gray-700,
  :root .text-slate-900,
  :root .text-slate-800,
  :root .text-slate-700 {
    color: var(--text);
  }
  :root .text-gray-600,
  :root .text-gray-500,
  :root .text-slate-600,
  :root .text-slate-500 {
    color: var(--text-muted);
  }
  :root .text-gray-400,
  :root .text-slate-400 {
    color: var(--text-subtle);
  }

  .dark .text-gray-900,
  .dark .text-gray-800,
  .dark .text-gray-700,
  .dark .text-slate-900,
  .dark .text-slate-800,
  .dark .text-slate-700 {
    color: var(--text);
  }
  .dark .text-gray-600,
  .dark .text-gray-500,
  .dark .text-slate-600,
  .dark .text-slate-500 {
    color: var(--text-muted);
  }
  .dark .text-gray-400,
  .dark .text-slate-400 {
    color: var(--text-subtle);
  }

  /* Background */
  :root .bg-white,
  :root .bg-slate-50,
  :root .bg-gray-50 {
    background-color: var(--surface);
  }
  :root .bg-gray-100,
  :root .bg-gray-200,
  :root .bg-slate-100,
  :root .bg-slate-200,
  :root .bg-amber-50\/60 {
    background-color: var(--bg-subtle);
  }
  :root .bg-gray-900,
  :root .bg-slate-900 {
    background-color: var(--surface-dark);
  }

  .dark .bg-white,
  .dark .bg-slate-50,
  .dark .bg-gray-50,
  .dark .bg-gray-100,
  .dark .bg-gray-200,
  .dark .bg-slate-100,
  .dark .bg-slate-200 {
    background-color: var(--surface);
  }
  .dark .bg-gray-900,
  .dark .bg-slate-900 {
    background-color: var(--bg);
  }

  /* Border */
  :root .border-gray-200,
  :root .border-gray-300,
  :root .border-slate-200,
  :root .border-slate-300 {
    border-color: var(--border);
  }
  :root .border-gray-100,
  :root .border-slate-100 {
    border-color: var(--border-subtle);
  }
  :root .border-gray-400,
  :root .border-slate-400 {
    border-color: var(--border-strong);
  }

  .dark .border-gray-200,
  .dark .border-gray-300,
  .dark .border-slate-200,
  .dark .border-slate-300 {
    border-color: var(--border);
  }
  .dark .border-gray-100,
  .dark .border-slate-100 {
    border-color: var(--border-subtle);
  }
  .dark .border-gray-400,
  .dark .border-slate-400 {
    border-color: var(--border-strong);
  }

  /* Ring / Focus */
  :root .focus\:ring-gray-300:focus,
  :root .focus\:ring-slate-300:focus {
    --tw-ring-color: var(--border);
  }
  .dark .focus\:ring-gray-300:focus,
  .dark .focus\:ring-slate-300:focus {
    --tw-ring-color: var(--border);
  }

  /* -------------------------------------------------------
     Accent remaps (blue in light via tokens, amber in dark)
     Applies to amber/yellow/blue utility classes so accents
     always flow through --primary and its variants.
  -------------------------------------------------------- */
  :root .text-amber-50,
  :root .text-amber-100,
  :root .text-amber-200,
  :root .text-amber-300,
  :root .text-amber-400,
  :root .text-amber-500,
  :root .text-amber-600,
  :root .text-amber-700,
  :root .text-amber-800,
  :root .text-amber-900,
  :root .text-blue-400,
  :root .text-blue-500,
  :root .text-blue-600,
  :root .text-blue-700,
  :root .text-yellow-500,
  :root .text-yellow-600 {
    color: var(--primary);
  }
  .dark .text-amber-50,
  .dark .text-amber-100,
  .dark .text-amber-200,
  .dark .text-amber-300,
  .dark .text-amber-400,
  .dark .text-amber-500,
  .dark .text-amber-600,
  .dark .text-amber-700,
  .dark .text-amber-800,
  .dark .text-amber-900,
  .dark .text-blue-400,
  .dark .text-blue-500,
  .dark .text-blue-600,
  .dark .text-blue-700,
  .dark .text-yellow-500,
  .dark .text-yellow-600 {
    color: var(--primary);
  }

  :root .border-amber-100,
  :root .border-amber-200,
  :root .border-amber-300,
  :root .border-amber-400,
  :root .border-amber-500,
  :root .border-amber-600,
  :root .border-blue-400,
  :root .border-blue-500,
  :root .border-blue-600,
  :root .border-yellow-400,
  :root .border-yellow-500 {
    border-color: var(--primary);
  }
  .dark .border-amber-100,
  .dark .border-amber-200,
  .dark .border-amber-300,
  .dark .border-amber-400,
  .dark .border-amber-500,
  .dark .border-amber-600,
  .dark .border-blue-400,
  .dark .border-blue-500,
  .dark .border-blue-600,
  .dark .border-yellow-400,
  .dark .border-yellow-500 {
    border-color: var(--primary);
  }

  :root .bg-amber-50,
  :root .bg-amber-100,
  :root .bg-amber-200,
  :root .bg-amber-300,
  :root .bg-amber-400,
  :root .bg-amber-500,
  :root .bg-amber-500\/10,
  :root .bg-amber-500\/20,
  :root .bg-amber-500\/30,
  :root .bg-amber-500\/40,
  :root .bg-amber-500\/60,
  :root .bg-amber-600,
  :root .bg-blue-400,
  :root .bg-blue-500,
  :root .bg-blue-600,
  :root .bg-yellow-400,
  :root .bg-yellow-500 {
    background-color: color-mix(in srgb, var(--primary) 20%, transparent 80%);
  }
  :root .bg-amber-500,
  :root .bg-blue-500,
  :root .bg-yellow-500 {
    background-color: var(--primary);
  }
  .dark .bg-amber-50,
  .dark .bg-amber-100,
  .dark .bg-amber-200,
  .dark .bg-amber-300,
  .dark .bg-amber-400,
  .dark .bg-amber-500,
  .dark .bg-amber-500\/10,
  .dark .bg-amber-500\/20,
  .dark .bg-amber-500\/30,
  .dark .bg-amber-500\/40,
  .dark .bg-amber-500\/60,
  .dark .bg-amber-600,
  .dark .bg-blue-400,
  .dark .bg-blue-500,
  .dark .bg-blue-600,
  .dark .bg-yellow-400,
  .dark .bg-yellow-500 {
    background-color: color-mix(in srgb, var(--primary) 20%, transparent 80%);
  }
  .dark .bg-amber-500,
  .dark .bg-blue-500,
  .dark .bg-yellow-500 {
    background-color: var(--primary);
  }

  /* Hover / focus / ring using palette names */
  :root .hover\:text-amber-500:hover,
  :root .hover\:text-amber-600:hover,
  :root .hover\:text-amber-700:hover,
  :root .hover\:text-blue-500:hover,
  :root .hover\:text-blue-600:hover,
  :root .hover\:text-yellow-500:hover,
  :root .hover\:text-yellow-600:hover {
    color: var(--primary);
  }
  .dark .hover\:text-amber-500:hover,
  .dark .hover\:text-amber-600:hover,
  .dark .hover\:text-amber-700:hover,
  .dark .hover\:text-blue-500:hover,
  .dark .hover\:text-blue-600:hover,
  .dark .hover\:text-yellow-500:hover,
  .dark .hover\:text-yellow-600:hover {
    color: var(--primary);
  }

  :root .hover\:border-amber-300:hover,
  :root .hover\:border-amber-400:hover,
  :root .hover\:border-amber-500:hover,
  :root .hover\:border-blue-400:hover,
  :root .hover\:border-blue-500:hover,
  :root .hover\:border-yellow-400:hover,
  :root .hover\:border-yellow-500:hover {
    border-color: var(--primary);
  }
  .dark .hover\:border-amber-300:hover,
  .dark .hover\:border-amber-400:hover,
  .dark .hover\:border-amber-500:hover,
  .dark .hover\:border-blue-400:hover,
  .dark .hover\:border-blue-500:hover,
  .dark .hover\:border-yellow-400:hover,
  .dark .hover\:border-yellow-500:hover {
    border-color: var(--primary);
  }

  :root .hover\:bg-amber-50:hover,
  :root .hover\:bg-amber-500:hover,
  :root .hover\:bg-amber-500\/10:hover,
  :root .hover\:bg-amber-600:hover,
  :root .hover\:bg-blue-500:hover,
  :root .hover\:bg-blue-600:hover,
  :root .hover\:bg-yellow-500:hover,
  :root .hover\:bg-yellow-600:hover {
    background-color: color-mix(in srgb, var(--primary) 25%, transparent 75%);
  }
  .dark .hover\:bg-amber-50:hover,
  .dark .hover\:bg-amber-500:hover,
  .dark .hover\:bg-amber-500\/10:hover,
  .dark .hover\:bg-amber-600:hover,
  .dark .hover\:bg-blue-500:hover,
  .dark .hover\:bg-blue-600:hover,
  .dark .hover\:bg-yellow-500:hover,
  .dark .hover\:bg-yellow-600:hover {
    background-color: color-mix(in srgb, var(--primary) 25%, transparent 75%);
  }

  :root .focus\:ring-amber-400:focus,
  :root .focus\:ring-amber-500:focus,
  :root .focus\:ring-blue-500:focus,
  :root .focus\:ring-blue-600:focus,
  :root .focus\:ring-yellow-500:focus {
    --tw-ring-color: var(--primary);
  }
  .dark .focus\:ring-amber-400:focus,
  .dark .focus\:ring-amber-500:focus,
  .dark .focus\:ring-blue-500:focus,
  .dark .focus\:ring-blue-600:focus,
  .dark .focus\:ring-yellow-500:focus {
    --tw-ring-color: var(--primary);
  }

  :root .focus-visible\:ring-amber-400\/70:focus-visible,
  :root .focus-visible\:ring-amber-500:focus-visible,
  :root .focus-visible\:ring-blue-500:focus-visible,
  :root .focus-visible\:ring-yellow-500:focus-visible {
    --tw-ring-color: var(--primary);
  }
  .dark .focus-visible\:ring-amber-400\/70:focus-visible,
  .dark .focus-visible\:ring-amber-500:focus-visible,
  .dark .focus-visible\:ring-blue-500:focus-visible,
  .dark .focus-visible\:ring-yellow-500:focus-visible {
    --tw-ring-color: var(--primary);
  }

  /* Firefox */
  * {
    scrollbar-width: thin;
    scrollbar-color: color-mix(
        in srgb,
        var(--border-strong) 55%,
        transparent 45%
      )
      transparent;
  }

  /* Chrome / Edge / Safari */
  *::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  *::-webkit-scrollbar-track {
    background: transparent;
  }

  *::-webkit-scrollbar-thumb {
    background-color: color-mix(
      in srgb,
      var(--border-strong) 55%,
      transparent 45%
    );
    border-radius: 9999px;
    border: 2px solid transparent;
    background-clip: content-box;
  }

  *:hover::-webkit-scrollbar-thumb {
    background-color: color-mix(
      in srgb,
      var(--border-strong) 70%,
      transparent 30%
    );
  }

  *::-webkit-scrollbar-corner {
    background: transparent;
  }
}
